var widgetFbPixel=function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/assets/vendor/",o(o.s=2)}([function(t,e){t.exports=void 0},function(t,e){t.exports=void 0},function(t,e,o){"use strict";o.r(e);var n=o(1);const r=n.$ecomConfig.get("currency")||"BRL",c=t=>{const e={currency:r,content_ids:[t.sku],content_name:t.name,value:Object(n.price)(t),content_type:"product"};return t.categories&&t.categories.length&&(e.content_category=t.category_tree||t.categories[0].name),e};var a=o(0),u=o.n(a);e.default=(t={})=>{if("function"==typeof window.fbq){const o=(e,o={},n=!1)=>{t.debug&&console.log("fbq",e,o),window.fbq(n?"trackCustom":"track",e,o)};(t=>{const e=window.storefront&&window.storefront.context;e&&"products"===e.resource&&t("ViewContent",c(e.body))})(o),(t=>{const e=window.storefrontApp&&window.storefrontApp.router;if(e){let o,n,c;const a=()=>{const{amount:t}=window.storefrontApp,e={value:t&&t.total||u.a.data&&u.a.data.subtotal||0,currency:r,contents:[],content_type:"product"};return u.a.data&&Array.isArray(u.a.data.items)&&u.a.data.items.forEach(({sku:t,quantity:o})=>{e.contents.push({id:t,quantity:o})}),e},i=(e,r)=>{const c=a(),u={...c,checkout_step:e,checkout_option:r};e<=1||!o?(t("InitiateCheckout",c),t("Checkout",u,!0),o=!0):n||(t("CheckoutOption",u,!0),n=!0)},s=e=>{c||(t("Purchase",{...a(),order_id:e}),c=!0)},d=({name:t,params:e})=>{switch(t){case"cart":i(1,"Review Cart");break;case"checkout":i(2,"Confirm Purchase");break;case"confirmation":s(e.id)}};e.currentRoute&&d(e.currentRoute),e.afterEach(d)}})(o),e=o,u.a.on("addItem",({item:t})=>{e("AddToCart",c(t))})}var e}}]).default;
//# sourceMappingURL=widget-fb-pixel.var.min.js.map